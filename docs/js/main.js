"use strict";function setVisibility(e,t){e?t.classList.remove("dn"):t.classList.add("dn")}var $=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document);Node.prototype.on=window.on=function(e,t){this.addEventListener(e,t)},NodeList.prototype.__proto__=Array.prototype,NodeList.prototype.on=NodeList.prototype.addEventListener=function(e,t){this.forEach(function(o){o.on(e,t)})},function(){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;$$(".email-collect").forEach(function(t){var o=t.querySelector(".email-collect__placeholder"),i=t.querySelector(".email-collect__input"),l=t.querySelector(".email-collect__email-container"),n=t.querySelector(".email-collect__error"),c=t.querySelector(".email-collect__form"),r=function e(){setVisibility(!1,o)},s=function e(){i.value.trim().length<1&&setVisibility(!0,o)},u=function t(){0===i.value.trim().length||e.test(i.value.trim())?n.classList.add("visibility-hidden"):n.classList.remove("visibility-hidden")},a=function e(){l.classList.add("email-collect__email-container--focused")},d=function e(){l.classList.remove("email-collect__email-container--focused")};i.on("blur",s),i.on("blur",u),i.on("blur",d),i.on("focus",r),i.on("focus",a),o.on("click",r),c.on("submit",function(t){0===i.value.trim().length?(t.preventDefault(),i.focus()):e.test(i.value.trim())||(t.preventDefault(),u(),i.focus())})})}();